<div ng-if="mainCtrl.Logged == false" class="text-center" ng-controller="UserController as userCtrl">
	<h1 class="text-center">Social Network</h1>
	<div class="col-lg-3 col-lg-offset-2">
		<h3>Login</h3>
		<div ng-include="'views/login.html'"></div>
	</div>
	<div class="col-lg-2">
		<h2>OR</h2>
	</div>
	<div class="col-lg-3">
		<h3>Register</h3>
		<div ng-include="'views/register.html'"></div>
	</div>
</div>
<div ng-if="mainCtrl.Logged == true">
	<div class="menuLocation">
		<h1>News Feed</h1>
	</div>
	<div ng-controller="NewsFeedController">
		<div class="col-md-7 userNews" ng-controller="PostsController">
			<ul class="media-list">
				<li class="media post" ng-repeat="post in newsFeed" data-id="{{post.id}}">
					<a class="pull-left" href="#">
						<img class="media-object img-square" src="{{post.author.profileImageData || 'http://www.sanluisvalleyhealth.org/sites/default/files/styles/physician_thumbnail/public/default_images/person-placeholder.jpg?itok=O6F7E8DG'}}" alt="profile">
					</a>
					<div class="media-body">
						<div class="well well-lg">
							<h4 class="media-heading reviews"><a href="#/users/{{post.author.username}}">{{post.author.username}}</a></h4>
							<div class="media-date text-uppercase reviews list-inline">
								{{post.date | date: 'short'}}
							</div>
							<p class="media-comment">
								{{post.postContent}}
							</p>
							<span>
								<span><button type="button" ng-click="showPostLikes(post)" data-toggle="modal" data-target="#postLikesModal">{{post.likesCount}}</button></span>
								<span ng-if="!post.liked">
									<span class="glyphicon glyphicon-thumbs-up"></span>
									<button type="button" ng-click="likePost(post)">Like</button>
								</span>
								<span ng-if="post.liked">
									<span class="glyphicon glyphicon-thumbs-down"></span>
									<button type="button" ng-click="unlikePost(post)">Unlike</button>
								</span>
							</span>
							<a data-toggle="collapse" href="#replyOne"><span class="glyphicon glyphicon-comment"></span> {{post.totalCommentsCount}} comments</a>
							<button type="button" class="btn btn-danger" ng-click="deletePost(post)">Delete</button>
							<span ng-if="post.author.username == myProfile.username">
								<button type="button" href="#" class="btn btn-info" data-toggle="modal" data-target="#postToEditModal" ng-click="showEditPost(post)">Edit</button>
							</span>
						</div>
					</div>
					<ul class="media-list">
						<li class="media media-replied comment" ng-repeat="comment in post.comments" data-id="{{comment.id}}">
							<a class="pull-left" href="#">
								<img class="media-object img-square" src="{{comment.author.profileImageData || 'http://www.sanluisvalleyhealth.org/sites/default/files/styles/physician_thumbnail/public/default_images/person-placeholder.jpg?itok=O6F7E8DG'}}" alt="profile">
							</a>
							<div class="media-body">
								<div class="well well-lg">
									<h4 class="media-heading reviews"><span class="glyphicon glyphicon-share-alt"></span><a href="#/users/{{comment.author.username}}">{{comment.author.username}}</a></h4>
									<div class="media-date text-uppercase reviews list-inline">
										{{comment.date | date: 'short'}}
									</div>
									<p class="media-comment">
										{{comment.commentContent}}
									</p>
									<span>
										<span><button type="button" ng-click="showCommentLikes(post, comment)" data-toggle="modal" data-target="#commentLikesModal">{{comment.likesCount}}</button></span>
										<span ng-if="!comment.liked">
											<span class="glyphicon glyphicon-thumbs-up"></span>
											<button type="button" ng-click="likeComment(post, comment)">Like</button>
										</span>
										<span ng-if="comment.liked">
											<span class="glyphicon glyphicon-thumbs-down"></span>
											<button type="button" ng-click="unlikeComment(post, comment)">Unlike</button>
										</span>
									</span>
								</div>
							</div>
						</li>
					</ul>
				</li>
			</ul>
			<div class="modal fade" id="commentLikesModal" tabindex="-1" role="dialog" aria-labelledby="commentLikesModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title" id="commentLikesModalLabel">Modal title</h4>
						</div>
						<div class="modal-body">
							<span ng-repeat="commentLike in commentLikes">
								{{commentLike.user.username}}
							</span>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" id="postLikesModal" tabindex="-1" role="dialog" aria-labelledby="postLikesModal" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title" id="postLikesModal">Modal title</h4>
						</div>
						<div class="modal-body">
							<span ng-repeat="postLike in postLikes">
								{{postLike.user.username}}
							</span>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" id="postToEditModal" tabindex="-1" role="dialog" aria-labelledby="postToEditModal" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title" id="postToEditModal">Edit Post, post id - {{postToEdit.id}}</h4>
						</div>
						<div class="modal-body">
							<textarea class="form-control" placeholder="Type message" ng-model="postToEdit.postContent"></textarea>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
							<button type="button" class="btn btn-default" ng-disabled="postToEdit.postContent.length <= 1" ng-click="editPost(postToEdit)" data-dismiss="modal">Save Changes</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-5">
			<div class="row">
				<div class="well">
					<form accept-charset="UTF-8" class="text-center">
						<textarea class="form-control" ng-model="postMessage" placeholder="Type in your message" ></textarea>
						<button class="btn btn-info" ng-click="makePost(postMessage)" ng-disabled="postMessage.length <= 1" type="button">Post Message</button>
					</form>
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-heading">Friends - <a href="#/users/{{myProfile.username}}/friends">{{myProfile.totalCount}}</a> total</div>
				<div class="panel-body">
					<div class="friend" ng-repeat="friend in myProfile.friends">
						<a href="#/users/{{friend.username}}">
							<img class="friend col-md-4 thumbnail" src="{{friend.profileImageData || 'http://www.sanluisvalleyhealth.org/sites/default/files/styles/physician_thumbnail/public/default_images/person-placeholder.jpg?itok=O6F7E8DG'}}" width="60" height="90">
							<!-- <span>{{friend.name}}</span> -->
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
