<div ng-controller="UserWallController">
	<div class="fb-profile">
		<img align="left" class="fb-image-lg" src="{{userProfile.coverImageData}}"/>
		<img align="left" class="fb-image-profile thumbnail" src="{{userProfile.profileImageData || 'http://www.sanluisvalleyhealth.org/sites/default/files/styles/physician_thumbnail/public/default_images/person-placeholder.jpg?itok=O6F7E8DG'}}"/>
		<div class="fb-profile-text">
			<h1>{{userProfile.name}} <span ng-if="userProfile.isFriend">Friend</span>
			<span ng-if="userProfile.hasPendingRequest">Pending</span>
			<a href="#" ng-if="!userProfile.isFriend && !userProfile.hasPendingRequest" ng-click="sendFriendRequest($event)" class="btn btn-info">Send friend request</a></h1>
		</div>
	</div>
	<div>
		<div class=" col-md-7 userNews">
			<ul class="media-list">
				<li class="media post" ng-repeat="post in userProfile.posts" data-id="{{post.id}}">
					<a class="pull-left" href="#">
						<img class="media-object img-square" src="{{post.author.profileImageData || 'http://www.sanluisvalleyhealth.org/sites/default/files/styles/physician_thumbnail/public/default_images/person-placeholder.jpg?itok=O6F7E8DG'}}" alt="profile">
					</a>
					<div class="media-body">
						<div class="well well-lg">
							<h4 class="media-heading reviews"><a href="#/users/{{post.author.username}}">{{post.author.username}}</a></h4>
							<div class="media-date reviews list-inline">
								{{post.date | date: 'short'}}
							</div>
							<p class="media-comment">
								{{post.postContent}}
							</p>
							<span>
								<span>{{post.likesCount}}</span>
								<span ng-if="!post.liked">
									<span class="glyphicon glyphicon-thumbs-up"></span>
									<a href="#" ng-click="likePost($event)">Like</a>
								</span>
								<span ng-if="post.liked">
									<span class="glyphicon glyphicon-thumbs-down"></span>
									<a href="#" ng-click="unlikePost($event)">Unlike</a>
								</span>
							</span>
							<a data-toggle="collapse" href="#replyOne"><span class="glyphicon glyphicon-comment"></span> {{post.totalCommentsCount}} comments</a>
							<span ng-if="post.author.username == myProfile.username">
								<!-- <span class="glyphicon glyphicon-thumbs-down"></span> -->
								<a href="#" class="btn btn-danger" ng-click="deleteComment($event)">Delete</a>
								<a href="#" class="btn btn-info" ng-click="editComment($event)">Edit</a>
							</span>
						</div>
					</div>
					<ul class="media-list">
						<li class="media media-replied comment" ng-repeat="comment in post.comments" data-id="{{comment.id}}">
							<a class="pull-left" href="#">
								<img class="media-object img-square" src="{{comment.author.profileImageData || 'http://www.sanluisvalleyhealth.org/sites/default/files/styles/physician_thumbnail/public/default_images/person-placeholder.jpg?itok=O6F7E8DG'}}" alt="profile">
							</a>
							<div class="media-body">
								<div class="well well-lg">
									<h4 class="media-heading reviews"><span class="glyphicon glyphicon-share-alt"></span><a href="#/users/{{comment.author.username}}">{{comment.author.username}}</a></h4>
									<div class="media-date reviews list-inline">
										{{comment.date | date: 'short'}}
									</div>
									<p class="media-comment">
										{{comment.commentContent}}
									</p>
									<span>
										<span>{{comment.likesCount}}</span>
										<span ng-if="!comment.liked">
											<span class="glyphicon glyphicon-thumbs-up"></span>
											<a href="#" ng-click="likeComment($event)">Like</a>
										</span>
										<span ng-if="comment.liked">
											<span class="glyphicon glyphicon-thumbs-down"></span>
											<a href="#" ng-click="unlineComment($event)">Unlike</a>
										</span>
										<span ng-if="comment.author.username == myProfile.username">
											<!-- <span class="glyphicon glyphicon-thumbs-down"></span> -->
											<a href="#" class="btn btn-danger" ng-click="deleteComment($event)">Delete</a>
											<a href="#" class="btn btn-info" ng-click="editComment($event)">Edit</a>
										</span>
									</span>
								</div>
							</div>
						</li>
					</ul>
				</li>
			</ul>
		</div>
		<div class="col-md-offset-1 col-md-4">
			<div class="row" ng-if="userProfile.isFriend">
				<div class="well">
					<form accept-charset="UTF-8" class="text-center">
						<textarea class="form-control" ng-model="postMessage" placeholder="Type in your message" ></textarea>
						<button class="btn btn-info" ng-click="makePost(postMessage)" ng-disabled="$postMessage.length <= 0" type="button">Post Message</button>
					</form>
				</div>
			</div>
			<div class="panel panel-default" ng-if="userProfile.isFriend">
				<div class="panel-heading">Friends - <a href="#/users/{{userProfile.username}}/friends">{{userProfile.friendsTotal}}</a> total</div>
				<div class="panel-body">
					<div ng-repeat="friend in userProfile.friends">
						<img class="friend col-md-4 thumbnail" width="60" height="90" src="{{friend.profileImageData || 'http://www.sanluisvalleyhealth.org/sites/default/files/styles/physician_thumbnail/public/default_images/person-placeholder.jpg?itok=O6F7E8DG'}}">
					</div>
				</div>
			</div>
		</div>
	</div>
</div>